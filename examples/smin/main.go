//-----------------------------------------------------------------------------
/*

distance minimisation for cubic splines

*/
//-----------------------------------------------------------------------------

package main

import . "github.com/deadsy/sdfx/sdf"

//-----------------------------------------------------------------------------

func test1() {

	knot := []V2{
		V2{5, 0},
		V2{2, 2},
		V2{0, 4},
		V2{-1, 1},
		V2{-3, 0},
		V2{-2, -2},
		V2{0, -6},
		V2{2, -2},
		V2{5, 0},
	}

	s0 := CubicSpline2D(knot)
	s1 := s0.(*CubicSplineSDF2).PolySpline2D(300)
	s2 := Extrude3D(s1, 1)
	RenderSTL(s2, 300, "spline.stl")
	SDF2_RenderPNG(s1, "spline.png")
}

//-----------------------------------------------------------------------------

func test2() {

	//  	points1 := []V2{
	// 		V2{0, 0},
	// 		V2{4, 1},
	// 	}

	points2 := []V2{
		V2{0, 0},
		V2{1, 3},
		V2{4, 0},
	}

	// 	points3 := []V2{
	// 		V2{0, 0},
	// 		V2{-1, 1},
	// 		V2{4, 1},
	// 		V2{3, 0},
	// 	}

	s := BezierSpline{}
	s.Set(points2)
	p := s.Polygonize(100)
	p.Render("spline.dxf")
}

//-----------------------------------------------------------------------------

func main() {
	test2()
}

//-----------------------------------------------------------------------------
