//-----------------------------------------------------------------------------
/*

Solids built with Bezier Curves

*/
//-----------------------------------------------------------------------------

package main

import . "github.com/deadsy/sdfx/sdf"

//-----------------------------------------------------------------------------

func bowling_pin() {

	b := NewBezier()
	b.Add(0, 0)
	b.Add(2.031/2.0, 0).HandleFwd(DtoR(45), 2)
	b.Add(4.766/2.0, 4.5).Handle(DtoR(90), 2, 2)
	b.Add(1.797/2.0, 10).Handle(DtoR(90), 3, 3)
	b.Add(2.547/2.0, 13.5).Handle(DtoR(90), 1, 1)
	b.Add(0, 15).HandleRev(DtoR(0), 1)
	b.Close()

	p := b.Polygon()
	p.Render("bowlingpin.dxf")

	s0 := Polygon2D(p.Vertices())
	s1 := Revolve3D(s0)
	RenderSTL(s1, 300, "bowlingpin.stl")
}

//-----------------------------------------------------------------------------

func bowl() {
	b := NewBezier()
	b.Add(1.428570, 0.000000)
	b.Add(194.311790, 1.616000).Mid()
	b.Add(424.623890, -2.388090).Mid()
	b.Add(584.285710, 98.571430)
	b.Add(730.711690, 191.161470).Mid()
	b.Add(845.816870, 372.034250).Mid()
	b.Add(850.576860, 545.337880)
	b.Add(855.789270, 735.113020).Mid()
	b.Add(679.478190, 877.171053).Mid()
	b.Add(586.270181, 1049.835600)
	b.Add(562.176808, 1094.467720).Mid()
	b.Add(551.662561, 1169.752600).Mid()
	b.Add(530.555895, 1191.428570)
	b.Add(506.830592, 1215.793810).Mid()
	b.Add(461.351740, 1202.110070).Mid()
	b.Add(444.285710, 1178.571430)
	b.Add(414.233090, 1137.120790).Mid()
	b.Add(452.788480, 1075.361930).Mid()
	b.Add(470.000000, 1027.142850)
	b.Add(531.988775, 853.477662).Mid()
	b.Add(743.353570, 724.365420).Mid()
	b.Add(743.662950, 546.384650)
	b.Add(743.899310, 410.411750).Mid()
	b.Add(648.722298, 272.112130).Mid()
	b.Add(536.903859, 194.747260)
	b.Add(387.543410, 91.407850).Mid()
	b.Add(0.000000, 101.890120).Mid()
	b.Add(0.000000, 101.890120)
	b.Close()

	p := b.Polygon()
	s0 := Polygon2D(p.Vertices())
	s1 := RevolveTheta3D(s0, DtoR(270))
	RenderSTL(s1, 300, "bowl.stl")
}

//-----------------------------------------------------------------------------

func vase() {

	b := NewBezier()
	b.Add(0.357140, 0.000000)
	b.Add(286.591374, 0.000000)
	b.Add(286.591374, 0.000000).Mid()
	b.Add(438.180430, 405.704940).Mid()
	b.Add(438.180430, 599.667510)
	b.Add(438.180430, 747.833392).Mid()
	b.Add(340.551300, 912.588850).Mid()
	b.Add(326.785720, 937.142860)
	b.Add(313.020136, 961.696870).Mid()
	b.Add(289.271359, 1007.535800).Mid()
	b.Add(283.928573, 1025.714290)
	b.Add(278.585786, 1043.892790).Mid()
	b.Add(279.638315, 1091.954510).Mid()
	b.Add(254.642859, 1045.714290)
	b.Add(229.647403, 999.474070).Mid()
	b.Add(259.847631, 950.274470).Mid()
	b.Add(291.785716, 902.142860)
	b.Add(348.012060, 817.408149).Mid()
	b.Add(405.357150, 762.993097).Mid()
	b.Add(405.357150, 667.857140)
	b.Add(405.357150, 510.752570).Mid()
	b.Add(371.256950, 100.000000).Mid()
	b.Add(208.928573, 100.000000)
	b.Add(139.284800, 100.000000).Mid()
	b.Add(0.000000, 98.928570).Mid()
	b.Add(0.000000, 98.928570)
	b.Close()

	p := b.Polygon()
	s0 := Polygon2D(p.Vertices())
	s1 := Revolve3D(s0)
	RenderSTL(s1, 300, "vase.stl")
}

//-----------------------------------------------------------------------------

func comic_sans_n() {

	b := NewBezier()
	b.Add(1418.000000, 301.000000)
	b.Add(1418.000000, 253.000000).Mid()
	b.Add(1402.000000, 141.000000)
	b.Add(1386.000000, 40.000000).Mid()
	b.Add(1295.000000, 40.000000)
	b.Add(1240.000000, 40.000000).Mid()
	b.Add(1164.000000, 112.000000)
	b.Add(757.000000, 497.000000).Mid()
	b.Add(230.000000, 1223.000000)
	b.Add(225.000000, 996.000000)
	b.Add(222.000000, 768.000000)
	b.Add(222.000000, 685.000000).Mid()
	b.Add(225.500000, 519.000000)
	b.Add(229.000000, 353.000000).Mid()
	b.Add(229.000000, 269.000000)
	b.Add(229.000000, 0.000000).Mid()
	b.Add(125.000000, 0.000000)
	b.Add(70.000000, 0.000000).Mid()
	b.Add(38.000000, 35.000000)
	b.Add(9.000000, 66.000000).Mid()
	b.Add(9.000000, 109.000000)
	b.Add(9.000000, 151.000000).Mid()
	b.Add(15.500000, 236.000000)
	b.Add(22.000000, 321.000000).Mid()
	b.Add(22.000000, 363.000000)
	b.Add(22.000000, 425.000000).Mid()
	b.Add(26.000000, 548.500000)
	b.Add(30.000000, 672.000000).Mid()
	b.Add(30.000000, 734.000000)
	b.Add(30.000000, 800.000000).Mid()
	b.Add(27.000000, 933.500000)
	b.Add(24.000000, 1067.000000).Mid()
	b.Add(24.000000, 1133.000000)
	b.Add(24.000000, 1196.000000).Mid()
	b.Add(12.000000, 1320.500000)
	b.Add(0.000000, 1445.000000).Mid()
	b.Add(0.000000, 1508.000000)
	b.Add(0.000000, 1554.000000).Mid()
	b.Add(39.500000, 1592.000000)
	b.Add(79.000000, 1630.000000).Mid()
	b.Add(129.000000, 1630.000000)
	b.Add(182.000000, 1630.000000).Mid()
	b.Add(260.000000, 1514.000000)
	b.Add(509.000000, 1141.000000).Mid()
	b.Add(708.000000, 894.000000)
	b.Add(945.000000, 601.000000).Mid()
	b.Add(1228.000000, 334.000000)
	b.Add(1231.000000, 377.000000).Mid()
	b.Add(1228.000000, 461.000000)
	b.Add(1225.000000, 587.000000)
	b.Add(1225.000000, 1026.000000).Mid()
	b.Add(1191.000000, 1286.000000)
	b.Add(1187.000000, 1312.000000).Mid()
	b.Add(1164.000000, 1391.000000)
	b.Add(1144.000000, 1459.000000).Mid()
	b.Add(1144.000000, 1497.000000)
	b.Add(1144.000000, 1613.000000).Mid()
	b.Add(1250.000000, 1613.000000)
	b.Add(1424.000000, 1613.000000).Mid()
	b.Add(1424.000000, 964.000000)
	b.Add(1424.000000, 853.000000).Mid()
	b.Add(1421.000000, 632.500000)
	b.Add(1418.000000, 412.000000).Mid()
	b.Add(1418.000000, 301.000000)
	b.Close()

	p := b.Polygon()
	p.Render("comicsans_n.dxf")

}

//-----------------------------------------------------------------------------

func main() {
	//bowling_pin()
	bowl()
	vase()
	comic_sans_n()
}

//-----------------------------------------------------------------------------
